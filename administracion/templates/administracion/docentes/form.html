{% extends 'base_modern.html' %}

{% block title %}{{ action }} Docente{% endblock %}

{% block content %}
<h2 style="margin-bottom: 30px; font-size: 28px; font-weight: 700;">{{ action }} Docente</h2>

<form method="post" style="max-width: 800px;">
    {% csrf_token %}

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="form-group">
            <label class="form-label" for="nombre">Nombre *</label>
            <input type="text" id="nombre" name="nombre" class="form-control" value="{{ docente.nombre|default:'' }}"
                required>
        </div>

        <div class="form-group">
            <label class="form-label" for="apellido">Apellido *</label>
            <input type="text" id="apellido" name="apellido" class="form-control"
                value="{{ docente.apellido|default:'' }}" required>
        </div>

        <div class="form-group">
            <label class="form-label" for="dni">DNI</label>
            <input type="number" id="dni" name="dni" class="form-control" value="{{ docente.dni|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="legajo">Legajo</label>
            <input type="number" id="legajo" name="legajo" class="form-control" value="{{ docente.legajo|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="email">Email</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ docente.email|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="telefono">Tel√©fono</label>
            <input type="text" id="telefono" name="telefono" class="form-control"
                value="{{ docente.telefono|default:'' }}">
        </div>
    </div>

    <div class="form-group">
        <label class="form-label" for="direccion">Direcci√≥n</label>
        <input type="text" id="direccion" name="direccion" class="form-control"
            value="{{ docente.direccion|default:'' }}">
    </div>

    <div class="form-group">
        <label class="form-label" for="nacionalidad">Nacionalidad</label>
        <input type="text" id="nacionalidad" name="nacionalidad" class="form-control"
            value="{{ docente.nacionalidad|default:'Argentina' }}">
    </div>

    <div class="form-group">
        <label class="form-label">Materias que dicta</label>
        <div
            style="max-height: 300px; overflow-y: auto; border: 2px solid var(--border); border-radius: 10px; padding: 15px;">
            {% for materia in materias %}
            <div class="form-check">
                <input type="checkbox" id="materia_{{ materia.id }}" name="materias" value="{{ materia.id }}" {% if
                    materia in docente.materia.all %}checked{% endif %}>
                <label for="materia_{{ materia.id }}">{{ materia.nombre }} ({{ materia.curso.curso }})</label>
            </div>
            {% endfor %}
        </div>
    </div>

    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="submit" class="btn btn-success">üíæ Guardar</button>
        <a href="{% url 'administracion:docente_list' %}" class="btn btn-secondary">‚Üê Cancelar</a>
    </div>
</form>
{% endblock %}