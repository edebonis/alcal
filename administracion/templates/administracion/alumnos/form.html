{% extends 'base_modern.html' %}

{% block title %}{{ action }} Alumno{% endblock %}

{% block content %}
<h2 style="margin-bottom: 30px; font-size: 28px; font-weight: 700;">{{ action }} Alumno</h2>

<form method="post" style="max-width: 800px;">
    {% csrf_token %}

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="form-group">
            <label class="form-label" for="nombre">Nombre *</label>
            <input type="text" id="nombre" name="nombre" class="form-control" value="{{ alumno.nombre|default:'' }}"
                required>
        </div>

        <div class="form-group">
            <label class="form-label" for="apellido">Apellido *</label>
            <input type="text" id="apellido" name="apellido" class="form-control"
                value="{{ alumno.apellido|default:'' }}" required>
        </div>

        <div class="form-group">
            <label class="form-label" for="dni">DNI</label>
            <input type="number" id="dni" name="dni" class="form-control" value="{{ alumno.dni|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="email">Email</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ alumno.email|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="telefono">Tel√©fono</label>
            <input type="text" id="telefono" name="telefono" class="form-control"
                value="{{ alumno.telefono|default:'' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="curso">Curso *</label>
            <select id="curso" name="curso" class="form-control" required>
                <option value="">-- Seleccione un curso --</option>
                {% for curso in cursos %}
                <option value="{{ curso.id }}" {% if alumno.curso.id==curso.id %}selected{% endif %}>
                    {{ curso.curso }} - {{ curso.carrera.nombre }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label" for="direccion">Direcci√≥n</label>
        <input type="text" id="direccion" name="direccion" class="form-control"
            value="{{ alumno.direccion|default:'' }}">
    </div>

    <div class="form-group">
        <label class="form-label" for="nacionalidad">Nacionalidad</label>
        <input type="text" id="nacionalidad" name="nacionalidad" class="form-control"
            value="{{ alumno.nacionalidad|default:'Argentina' }}">
    </div>

    <div style="background: var(--light-gray); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
        <h3 style="margin-bottom: 15px; font-weight: 600; font-size: 16px;">Estados</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
            <div class="form-check">
                <input type="checkbox" id="activo" name="activo" {% if alumno.activo or not alumno %}checked{% endif %}>
                <label for="activo">Activo</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="libre" name="libre" {% if alumno.libre %}checked{% endif %}>
                <label for="libre">Libre</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="condicional" name="condicional" {% if alumno.condicional %}checked{% endif
                    %}>
                <label for="condicional">Condicional</label>
            </div>
        </div>
    </div>

    <div style="display: flex; gap: 10px; margin-top: 30px;">
        <button type="submit" class="btn btn-success">üíæ Guardar</button>
        <a href="{% url 'administracion:alumno_list' %}" class="btn btn-secondary">‚Üê Cancelar</a>
    </div>
</form>
{% endblock %}