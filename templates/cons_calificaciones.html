{% extends "base_modern.html" %}
{% load static %}

{% block title %}Consultar Calificaciones - ALCAL{% endblock %}

{% block content %}
<div class="container-fluid">

    <div class="glass-header mb-4">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h2 class="fw-bold text-white mb-1">Consultar Calificaciones</h2>
                <p class="text-white-50 mb-0">Visualice notas por curso o alumno</p>
            </div>
            <a href="/ingresar_calificaciones/" class="btn btn-light text-success fw-bold">
                <i class="bi bi-plus-circle me-2"></i> Ingresar Notas
            </a>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="glass-card">
                <ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active rounded-pill px-4" id="pills-curso-tab" data-bs-toggle="pill"
                            data-bs-target="#pills-curso" type="button" role="tab">
                            <i class="bi bi-collection me-2"></i> Por Curso
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link rounded-pill px-4" id="pills-alumno-tab" data-bs-toggle="pill"
                            data-bs-target="#pills-alumno" type="button" role="tab">
                            <i class="bi bi-person me-2"></i> Por Alumno
                        </button>
                    </li>
                </ul>

                <div class="tab-content" id="pills-tabContent">
                    <!-- Por Curso -->
                    <div class="tab-pane fade show active" id="pills-curso" role="tabpanel">
                        <form action="/consultar_calificaciones_curso/" method="get">
                            <div class="mb-3">
                                <label class="form-label text-muted small fw-bold">CURSO</label>
                                <select name="curso" class="form-select bg-light">
                                    <option value="">-- Seleccione --</option>
                                    {% for curso in cursos %}
                                    <option value="{{ curso.id }}">{{ curso }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="mb-4">
                                <label class="form-label text-muted small fw-bold">MATERIA</label>
                                <select name="materia" class="form-select bg-light">
                                    <option value="">-- Seleccione --</option>
                                    {% for materia in materias %}
                                    <option value="{{ materia.id }}">{{ materia }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <button type="submit" class="btn btn-premium w-100 py-2">
                                <i class="bi bi-search me-2"></i> Ver Planilla
                            </button>
                        </form>
                    </div>

                    <!-- Por Alumno -->
                    <div class="tab-pane fade" id="pills-alumno" role="tabpanel">
                        <form action="/consultar_calificaciones_alumno/" method="get">
                            <div class="mb-4">
                                <label class="form-label text-muted small fw-bold">BUSCAR ALUMNO</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0"><i
                                            class="bi bi-search"></i></span>
                                    <input type="text" name="q" class="form-control bg-light border-start-0 ps-0"
                                        placeholder="Nombre, Apellido o DNI...">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-premium w-100 py-2">
                                <i class="bi bi-search me-2"></i> Ver Bolet√≠n
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}