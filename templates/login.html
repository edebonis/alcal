{% extends "base_modern.html" %}
{% load static %}

{% block title %}Iniciar Sesión - ALCAL{% endblock %}

{% block content %}
<div class="container h-100 d-flex align-items-center justify-content-center" style="min-height: 80vh;">
    <div class="col-md-5 col-lg-4">
        <div class="glass-card p-5">
            <div class="text-center mb-4">
                <div class="d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-3 p-3 mb-3 shadow-sm"
                    style="width: 64px; height: 64px;">
                    <i class="bi bi-mortarboard-fill fs-2"></i>
                </div>
                <h2 class="fw-bold mb-1">Bienvenido</h2>
                <p class="text-muted">Ingresa a tu cuenta ALCAL</p>
            </div>

            <form action="{{ app_path }}" method="post" id="login-form">{% csrf_token %}
                {% if form.errors and not form.non_field_errors %}
                <div class="alert alert-danger py-2 small">
                    <i class="bi bi-exclamation-circle me-2"></i> Credenciales incorrectas
                </div>
                {% endif %}

                {% if form.non_field_errors %}
                <div class="alert alert-danger py-2 small">
                    {% for error in form.non_field_errors %}
                    <i class="bi bi-exclamation-circle me-2"></i> {{ error }}
                    {% endfor %}
                </div>
                {% endif %}

                <div class="mb-3">
                    <label for="id_username" class="form-label text-muted small fw-bold">USUARIO</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i class="bi bi-person"></i></span>
                        <input type="text" name="username" class="form-control bg-light border-start-0 ps-0" required
                            id="id_username" placeholder="Ej. admin">
                    </div>
                </div>

                <div class="mb-4">
                    <label for="id_password" class="form-label text-muted small fw-bold">CONTRASEÑA</label>
                    <div class="input-group">
                        <span class="input-group-text bg-light border-end-0"><i class="bi bi-lock"></i></span>
                        <input type="password" name="password" class="form-control bg-light border-start-0 ps-0"
                            required id="id_password" placeholder="••••••••">
                    </div>
                </div>

                <button type="submit" class="btn btn-premium w-100 py-2 mb-3">
                    Ingresar al Sistema
                </button>

                <div class="text-center">
                    <a href="#" class="text-decoration-none small text-muted">¿Olvidaste tu contraseña?</a>
                </div>
            </form>
        </div>

        <div class="text-center mt-4 text-muted small">
            &copy; 2025 ALCAL Sistema Académico
        </div>
    </div>
</div>
{% endblock %}