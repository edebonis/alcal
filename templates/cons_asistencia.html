{% extends "base_modern.html" %}
{% load static %}

{% block title %}Consultar Asistencia - ALCAL{% endblock %}

{% block content %}
<div class="container-fluid">

	<div class="glass-header mb-4">
		<div class="d-flex justify-content-between align-items-center">
			<div>
				<h2 class="fw-bold text-white mb-1">Consultar Asistencia</h2>
				<p class="text-white-50 mb-0">Historial y reportes de asistencia</p>
			</div>
			<a href="/tomar_asistencia_curso/" class="btn btn-light text-primary fw-bold">
				<i class="bi bi-plus-circle me-2"></i> Nueva Asistencia
			</a>
		</div>
	</div>

	<div class="row justify-content-center">
		<div class="col-md-10">
			<div class="glass-card">
				<ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
					<li class="nav-item" role="presentation">
						<button class="nav-link active rounded-pill px-4" id="pills-curso-tab" data-bs-toggle="pill"
							data-bs-target="#pills-curso" type="button" role="tab">
							<i class="bi bi-collection me-2"></i> Por Curso
						</button>
					</li>
					<li class="nav-item" role="presentation">
						<button class="nav-link rounded-pill px-4" id="pills-alumno-tab" data-bs-toggle="pill"
							data-bs-target="#pills-alumno" type="button" role="tab">
							<i class="bi bi-person me-2"></i> Por Alumno
						</button>
					</li>
				</ul>

				<div class="tab-content" id="pills-tabContent">
					<!-- Por Curso -->
					<div class="tab-pane fade show active" id="pills-curso" role="tabpanel">
						<form action="/consultar_asistencia_curso/" method="get">
							<div class="row align-items-end">
								<div class="col-md-5 mb-3">
									<label class="form-label text-muted small fw-bold">SELECCIONAR CURSO</label>
									<select name="curso" class="form-select bg-light">
										<option value="">-- Seleccione --</option>
										{% for curso in cursos %}
										<option value="{{ curso.id }}">{{ curso }}</option>
										{% endfor %}
									</select>
								</div>
								<div class="col-md-4 mb-3">
									<label class="form-label text-muted small fw-bold">FECHA (Opcional)</label>
									<input type="date" name="fecha" class="form-control bg-light">
								</div>
								<div class="col-md-3 mb-3">
									<button type="submit" class="btn btn-premium w-100">
										<i class="bi bi-search"></i> Buscar
									</button>
								</div>
							</div>
						</form>
					</div>

					<!-- Por Alumno -->
					<div class="tab-pane fade" id="pills-alumno" role="tabpanel">
						<form action="/consultar_asistencia_alumno/" method="get">
							<div class="row align-items-end">
								<div class="col-md-8 mb-3">
									<label class="form-label text-muted small fw-bold">BUSCAR ALUMNO</label>
									<div class="input-group">
										<span class="input-group-text bg-light border-end-0"><i
												class="bi bi-search"></i></span>
										<input type="text" name="q" class="form-control bg-light border-start-0 ps-0"
											placeholder="Nombre, Apellido o DNI...">
									</div>
								</div>
								<div class="col-md-4 mb-3">
									<button type="submit" class="btn btn-premium w-100">
										<i class="bi bi-search"></i> Buscar Alumno
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>

			<!-- Recent Activity / Quick Stats -->
			<div class="row mt-4">
				<div class="col-md-4">
					<div class="stat-card">
						<div class="stat-icon blue">
							<i class="bi bi-calendar-check"></i>
						</div>
						<div class="stat-info ms-3">
							<h5 class="mb-0 fw-bold">Hoy</h5>
							<small class="text-muted">Asistencias tomadas</small>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="stat-card">
						<div class="stat-icon orange">
							<i class="bi bi-exclamation-circle"></i>
						</div>
						<div class="stat-info ms-3">
							<h5 class="mb-0 fw-bold">Alertas</h5>
							<small class="text-muted">Faltas consecutivas</small>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="stat-card">
						<div class="stat-icon green">
							<i class="bi bi-file-earmark-spreadsheet"></i>
						</div>
						<div class="stat-info ms-3">
							<h5 class="mb-0 fw-bold">Reportes</h5>
							<small class="text-muted">Exportar datos</small>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}